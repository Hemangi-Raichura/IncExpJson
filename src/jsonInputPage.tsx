// JsonInputPage.tsx
import React, { useState } from "react";
import { useNavigate } from "react-router-dom";

const JsonInputPage: React.FC = () => {
  const [jsonText, setJsonText] = useState('\{\n    \"Status\": 1,\n    \"Message\": \"\",\n    \"data\": [\n\n        {\n            \"RowId\": 2,\n            \"Name\": \"General\",\n            \"Category\": \"\",\n            \"SubCategory\": \"\",\n            \"Frequency\":\"\",\n            \"Value\": \"\",\n            \"Value2\": \"NA\",\n            \"Lov\": \"\",\n            \"Size\": 0,\n            \"nDecimal\": 0,\n            \"IEFType\": \"H\"\n        },\n        {\n            \"RowId\": 3,\n            \"Name\": \"Date Completed\",\n            \"Category\": \"General\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"D\"\n        },\n        {\n            \"RowId\": 4,\n            \"Name\": \"Employed\",\n            \"Category\": \"General\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"NA\",\n            \"Lov\": \"Yes, No\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"C\"\n        },\n        {\n            \"RowId\": 5,\n            \"Name\": \"Company Name\",\n            \"Category\": \"General\",\n            \"SubCategory\": \"\",\n\t    \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"C\"\n        },\n        {\n            \"RowId\": 6,\n            \"Name\": \"Perm/Contract\",\n            \"Category\": \"General\",\n            \"SubCategory\": \"\",\n\t    \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"NA\",\n            \"Lov\": \"Permanent, Contract, Part-time\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"C\"\n        },\n        {\n            \"RowId\": 7,\n            \"Name\": \"Shift\",\n            \"Category\": \"General\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"NA\",\n            \"Lov\": \"Yes, No\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"C\"\n        },\n        {\n            \"RowId\": 8,\n            \"Name\": \"Sole/Joint Income\",\n            \"Category\": \"General\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"NA\",\n            \"Lov\": \"Sole, Joint\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"C\"\n        },\n        {\n            \"RowId\": 9,\n            \"Name\": \"Benefit Type\",\n            \"Category\": \"General\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"NA\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"C\"\n        },\n        {\n            \"RowId\": 10,\n            \"Name\": \"Salary\",\n            \"Category\": \"\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 0,\n            \"nDecimal\": 0,\n            \"IEFType\": \"H\"\n        },\n        {\n            \"RowId\": 11,\n            \"Name\": \"Wages/Support\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 12,\n            \"Name\": \"Partner/Spouses Wage\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 13,\n            \"Name\": \"Child Benefits/Maintenance\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 14,\n            \"Name\": \"Other\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 15,\n            \"Name\": \"Additional Income/Assets\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 16,\n            \"Name\": \"Rental Income\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 17,\n            \"Name\": \"Pension\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 18,\n            \"Name\": \"Family/Freinds\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 19,\n            \"Name\": \"Savings/Current Account\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 20,\n            \"Name\": \"Other\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 21,\n            \"Name\": \"Dependants under 16\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 2,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 22,\n            \"Name\": \"Dependants under 18 in Education\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 2,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 23,\n            \"Name\": \"Additional Adults\",\n            \"Category\": \"Salary\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 2,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 24,\n            \"Name\": \"Expenses\",\n            \"Category\": \"\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 0,\n            \"nDecimal\": 0,\n            \"IEFType\": \"H\"\n        },\n        {\n            \"RowId\": 25,\n            \"Name\": \"Rent/Home Owner\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"\",\n            \"Lov\": \"Rental, Home Owner\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"C\"\n        },\n        {\n            \"RowId\": 26,\n            \"Name\": \"Mortgage/Rent\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 27,\n            \"Name\": \"Council Tax\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 28,\n            \"Name\": \"Water\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 29,\n            \"Name\": \"Gas and Electric\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 30,\n            \"Name\": \"Court Orders/CCJs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 31,\n            \"Name\": \"Child Support\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 32,\n            \"Name\": \"Home Phone Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 33,\n            \"Name\": \"Mobile Phone Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 34,\n            \"Name\": \"Other Communication Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 35,\n            \"Name\": \"No of Vehicles\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 36,\n            \"Name\": \"Public Transport Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 37,\n            \"Name\": \"Fuel Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 38,\n            \"Name\": \"Insurance Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 39,\n            \"Name\": \"Vehicle Tax/annum\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 40,\n            \"Name\": \"MOT/Maintenance/annum\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 41,\n            \"Name\": \"Other Transport Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 42,\n            \"Name\": \"Food and Housekeeping Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 43,\n            \"Name\": \"Clothing Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 44,\n            \"Name\": \"Other Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 45,\n            \"Name\": \"TV Subscription Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 46,\n            \"Name\": \"Internet Costs\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 47,\n            \"Name\": \"TV Licence\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 48,\n            \"Name\": \"Other Creditors/Court Orders Outstanding Amount\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 49,\n            \"Name\": \"Monthly Payments\",\n            \"Category\": \"Expenses\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 50,\n            \"Name\": \"Test \",\n            \"Category\": \"\",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 0,\n            \"nDecimal\": 0,\n            \"IEFType\": \"H\"\n        },\n        {\n            \"RowId\": 51,\n            \"Name\": \"Salary \",\n            \"Category\": \"Test \",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0.0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 4,\n            \"nDecimal\": 2,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 52,\n            \"Name\": \"Employer \",\n            \"Category\": \"Test \",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": \"\",\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 10,\n            \"nDecimal\": 0,\n            \"IEFType\": \"C\"\n        },\n        {\n            \"RowId\": 53,\n            \"Name\": \"Sub CategoryTest 1\",\n            \"Category\": \"Test \",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 0,\n            \"nDecimal\": 0,\n            \"IEFType\": \"SH\"\n        },\n        {\n            \"RowId\": 54,\n            \"Name\": \"SC 1 cost 1\",\n            \"Category\": \"Test \",\n            \"SubCategory\": \"Sub CategoryTest 1\",\n            \"Frequency\": \"\",\n            \"Value\": 0.0,\n            \"Value2\": \"\",\n            \"Lov\": \"W , M\",\n            \"Size\": 4,\n            \"nDecimal\": 2,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 55,\n            \"Name\": \"SC cost 2\",\n            \"Category\": \"Test \",\n            \"SubCategory\": \"Sub CategoryTest 1\",\n            \"Frequency\": \"M,W\",\n            \"Value\": 0.0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 4,\n            \"nDecimal\": 2,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 56,\n            \"Name\": \"Sub CategoryTest 2\",\n            \"Category\": \"Test \",\n            \"SubCategory\": \"\",\n            \"Frequency\": \"\",\n            \"Value\": 0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 0,\n            \"nDecimal\": 0,\n            \"IEFType\": \"SH\"\n        },\n        {\n            \"RowId\": 57,\n            \"Name\": \"SC 2 cost1\",\n            \"Category\": \"Test \",\n            \"SubCategory\": \"Sub CategoryTest 2\",\n            \"Frequency\": \"\",\n            \"Value\": 0.0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 4,\n            \"nDecimal\": 2,\n            \"IEFType\": \"N\"\n        },\n        {\n            \"RowId\": 58,\n            \"Name\": \"SC 2 cost1\",\n            \"Category\": \"Test2 \",\n            \"SubCategory\": \"Sub CategoryTest 3\",\n            \"Frequency\": \"\",\n            \"Value\": 0.0,\n            \"Value2\": \"\",\n            \"Lov\": \"\",\n            \"Size\": 4,\n            \"nDecimal\": 2,\n            \"IEFType\": \"N\"\n        }\n     ],\n  \n \"Errors\": null\n\n}');

  const [error, setError] = useState("");
  const navigate = useNavigate();

  const handleSubmit = () => {
    try {
      const parsed = JSON.parse(jsonText);
      if (!Array.isArray(parsed) && !parsed.data) {
        throw new Error("Expected an array or object with 'data' array.");
      }

      // Either use parsed directly or parsed.data based on your schema
      const fields = parsed.data ?? parsed;

      localStorage.setItem("webformData", JSON.stringify(fields));
      navigate("/App2"); // assuming "/" is the form page
    } catch (err: any) {
      setError(err.message || "Invalid JSON");
    }
  };

  return (
    <div className="p-6 max-w-3xl mx-auto">
      <h2 className="text-xl font-bold mb-4">Paste JSON Data</h2>
      <textarea
        className="w-full h-64 p-4 border rounded font-mono"
        value={jsonText}
        onChange={(e) => {
          setJsonText(e.target.value);
          setError("");
        }}
        placeholder='Paste your JSON here...'
      />
      {error && <p className="text-red-600 mt-2">{error}</p>}
      <button
        onClick={handleSubmit}
        className="mt-4 px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-500"
      >
        Submit & Load Form
      </button>
    </div>
  );
};

export default JsonInputPage;
